import{l as M,G as F,O as I,P as q,Q as W,D as L,g as y,y as h,k as S,R as x,u as K}from"./Navigation-Dx91ZCbe.js";function C(e){return I()?(q(e),!0):!1}const N=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Q=e=>e!=null,U=Object.prototype.toString,X=e=>U.call(e)==="[object Object]";function O(e){return Array.isArray(e)?e:[e]}function Y(e){return W()}function V(e,t=!0,o){Y()?M(e,o):t?e():F(e)}function _(e,t,o){return L(e,t,{...o,immediate:!0})}const T=N?window:void 0;function b(e){var t;const o=x(e);return(t=o==null?void 0:o.$el)!=null?t:o}function z(...e){const t=[],o=()=>{t.forEach(n=>n()),t.length=0},u=(n,i,l,d)=>(n.addEventListener(i,l,d),()=>n.removeEventListener(i,l,d)),s=y(()=>{const n=O(x(e[0])).filter(i=>i!=null);return n.every(i=>typeof i!="string")?n:void 0}),r=_(()=>{var n,i;return[(i=(n=s.value)==null?void 0:n.map(l=>b(l)))!=null?i:[T].filter(l=>l!=null),O(x(s.value?e[1]:e[0])),O(K(s.value?e[2]:e[1])),x(s.value?e[3]:e[2])]},([n,i,l,d])=>{if(o(),!(n!=null&&n.length)||!(i!=null&&i.length)||!(l!=null&&l.length))return;const c=X(d)?{...d}:d;t.push(...n.flatMap(f=>i.flatMap(v=>l.map(p=>u(f,v,p,c)))))},{flush:"post"}),a=()=>{r(),o()};return C(o),a}function J(){const e=h(!1),t=W();return t&&M(()=>{e.value=!0},t),e}function E(e){const t=J();return y(()=>(t.value,!!e()))}function Z(e,t,o={}){const{window:u=T,...s}=o;let r;const a=E(()=>u&&"MutationObserver"in u),n=()=>{r&&(r.disconnect(),r=void 0)},i=y(()=>{const f=x(e),v=O(f).map(b).filter(Q);return new Set(v)}),l=L(()=>i.value,f=>{n(),a.value&&f.size&&(r=new MutationObserver(t),f.forEach(v=>r.observe(v,s)))},{immediate:!0,flush:"post"}),d=()=>r==null?void 0:r.takeRecords(),c=()=>{l(),n()};return C(c),{isSupported:a,stop:c,takeRecords:d}}function k(e,t,o={}){const{window:u=T,...s}=o;let r;const a=E(()=>u&&"ResizeObserver"in u),n=()=>{r&&(r.disconnect(),r=void 0)},i=y(()=>{const c=x(e);return Array.isArray(c)?c.map(f=>b(f)):[b(c)]}),l=L(i,c=>{if(n(),a.value&&u){r=new ResizeObserver(t);for(const f of c)f&&r.observe(f,s)}},{immediate:!0,flush:"post"}),d=()=>{n(),l()};return C(d),{isSupported:a,stop:d}}function re(e,t={}){const{reset:o=!0,windowResize:u=!0,windowScroll:s=!0,immediate:r=!0,updateTiming:a="sync"}=t,n=h(0),i=h(0),l=h(0),d=h(0),c=h(0),f=h(0),v=h(0),p=h(0);function g(){const R=b(e);if(!R){o&&(n.value=0,i.value=0,l.value=0,d.value=0,c.value=0,f.value=0,v.value=0,p.value=0);return}const m=R.getBoundingClientRect();n.value=m.height,i.value=m.bottom,l.value=m.left,d.value=m.right,c.value=m.top,f.value=m.width,v.value=m.x,p.value=m.y}function w(){a==="sync"?g():a==="next-frame"&&requestAnimationFrame(()=>g())}return k(e,w),L(()=>b(e),R=>!R&&w()),Z(e,w,{attributeFilter:["style","class"]}),s&&z("scroll",w,{capture:!0,passive:!0}),u&&z("resize",w,{passive:!0}),V(()=>{r&&w()}),{height:n,bottom:i,left:l,right:d,top:c,width:f,x:v,y:p,update:w}}function ee(e,t={width:0,height:0},o={}){const{window:u=T,box:s="content-box"}=o,r=y(()=>{var c,f;return(f=(c=b(e))==null?void 0:c.namespaceURI)==null?void 0:f.includes("svg")}),a=h(t.width),n=h(t.height),{stop:i}=k(e,([c])=>{const f=s==="border-box"?c.borderBoxSize:s==="content-box"?c.contentBoxSize:c.devicePixelContentBoxSize;if(u&&r.value){const v=b(e);if(v){const p=v.getBoundingClientRect();a.value=p.width,n.value=p.height}}else if(f){const v=O(f);a.value=v.reduce((p,{inlineSize:g})=>p+g,0),n.value=v.reduce((p,{blockSize:g})=>p+g,0)}else a.value=c.contentRect.width,n.value=c.contentRect.height},o);V(()=>{const c=b(e);c&&(a.value="offsetWidth"in c?c.offsetWidth:t.width,n.value="offsetHeight"in c?c.offsetHeight:t.height)});const l=L(()=>b(e),c=>{a.value=c?t.width:0,n.value=c?t.height:0});function d(){i(),l()}return{width:a,height:n,stop:d}}function ce(e,t){const{containerStyle:o,wrapperProps:u,scrollTo:s,calculateRange:r,currentList:a,containerRef:n}="itemHeight"in t?oe(t,e):ne(t,e);return{list:a,scrollTo:s,containerProps:{ref:n,onScroll:()=>{r()},style:o},wrapperProps:u}}function B(e){const t=h(null),o=ee(t),u=S([]),s=h(e);return{state:S({start:0,end:10}),source:s,currentList:u,size:o,containerRef:t}}function G(e,t,o){return u=>{if(typeof o=="number")return Math.ceil(u/o);const{start:s=0}=e.value;let r=0,a=0;for(let n=s;n<t.value.length;n++){const i=o(n);if(r+=i,a=n,r>u)break}return a-s}}function H(e,t){return o=>{if(typeof t=="number")return Math.floor(o/t)+1;let u=0,s=0;for(let r=0;r<e.value.length;r++){const a=t(r);if(u+=a,u>=o){s=r;break}}return s+1}}function P(e,t,o,u,{containerRef:s,state:r,currentList:a,source:n}){return()=>{const i=s.value;if(i){const l=o(e==="vertical"?i.scrollTop:i.scrollLeft),d=u(e==="vertical"?i.clientHeight:i.clientWidth),c=l-t,f=l+d+t;r.value={start:c<0?0:c,end:f>n.value.length?n.value.length:f},a.value=n.value.slice(r.value.start,r.value.end).map((v,p)=>({data:v,index:p+r.value.start}))}}}function A(e,t){return o=>typeof e=="number"?o*e:t.value.slice(0,o).reduce((s,r,a)=>s+e(a),0)}function D(e,t,o,u){L([e.width,e.height,t,o],()=>{u()})}function $(e,t){return y(()=>typeof e=="number"?t.value.length*e:t.value.reduce((o,u,s)=>o+e(s),0))}const te={horizontal:"scrollLeft",vertical:"scrollTop"};function j(e,t,o,u){return s=>{u.value&&(u.value[te[e]]=o(s),t())}}function ne(e,t){const o=B(t),{state:u,source:s,currentList:r,size:a,containerRef:n}=o,i={overflowX:"auto"},{itemWidth:l,overscan:d=5}=e,c=G(u,s,l),f=H(s,l),v=P("horizontal",d,f,c,o),p=A(l,s),g=y(()=>p(u.value.start)),w=$(l,s);D(a,t,n,v);const R=j("horizontal",v,p,n),m=y(()=>({style:{height:"100%",width:`${w.value-g.value}px`,marginLeft:`${g.value}px`,display:"flex"}}));return{scrollTo:R,calculateRange:v,wrapperProps:m,containerStyle:i,currentList:r,containerRef:n}}function oe(e,t){const o=B(t),{state:u,source:s,currentList:r,size:a,containerRef:n}=o,i={overflowY:"auto"},{itemHeight:l,overscan:d=5}=e,c=G(u,s,l),f=H(s,l),v=P("vertical",d,f,c,o),p=A(l,s),g=y(()=>p(u.value.start)),w=$(l,s);D(a,t,n,v);const R=j("vertical",v,p,n),m=y(()=>({style:{width:"100%",height:`${w.value-g.value}px`,marginTop:`${g.value}px`}}));return{calculateRange:v,scrollTo:R,containerStyle:i,wrapperProps:m,currentList:r,containerRef:n}}export{re as a,ce as u};
